(()=>{"use strict";var e={40:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(379),r=n.n(a),o=n(364),s=n.n(o)()(r());s.push([e.id,".modal--Ax_pZ {\n    margin: auto;\n    padding: 20px;\n    border: none;\n    background-color: transparent;\n}\n\n.modal--Ax_pZ::backdrop {\n    background-color: rgba(0, 0, 0, 0.5);\n}\n\n.modal__container--tCgO0 {\n    padding: 20px;\n    width: 300px;\n    height: 100px;\n    border-radius: 10px;\n    color: var(--text-color);\n    background-color: var(--bg-color);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}",""]),s.locals={modal:"modal--Ax_pZ",modal__container:"modal__container--tCgO0"};const i=s},244:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(379),r=n.n(a),o=n(364),s=n.n(o)()(r());s.push([e.id,".spinner-container--Snrwf {\n    padding: 20px;\n    width: 420px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    margin-left: -80px;\n    margin-top: -80px;\n    border-radius: 12px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-left;\n    gap: 40px;\n    background: var(--bg-color-opaque);\n    z-index: 999;\n}\n\n.spinner--fpwLx {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    margin-left: -40px;\n    margin-top: -40px;\n    border: 10px solid #f3f3f3;\n    border-radius: 50%;\n    border-top: 10px solid #fcd0a1;\n    border-bottom: 10px solid #fcd0a1;\n    text-align: center;\n    width: 80px;\n    height: 80px;\n    -webkit-animation: spin--shWPH 2s linear infinite;\n    animation: spin--shWPH 2s linear infinite;\n}\n\n@-webkit-keyframes spin--shWPH {\n    0% {\n        -webkit-transform: rotate(0deg);\n    }\n    100% {\n        -webkit-transform: rotate(360deg);\n    }\n}\n\n@keyframes spin--shWPH {\n    0% {\n        transform: rotate(0deg);\n    }\n    100% {\n        transform: rotate(360deg);\n    }\n}\n\n.message--bmk98 {\n    margin: 0;\n    /* width: 280px; */\n    color: var(--text-color)\n}",""]),s.locals={"spinner-container":"spinner-container--Snrwf",spinner:"spinner--fpwLx",spin:"spin--shWPH",message:"message--bmk98"};const i=s},638:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(379),r=n.n(a),o=n(364),s=n.n(o)()(r());s.push([e.id,".login__form--izXR4 {\n    width: 300px;\n    padding: 40px;\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    border-radius: 15px;\n    background: var(--bg-modal);\n}\n\n.input__wrapper--XOafN {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n}\n\n.input__login--jkUQ5,\n.input__password--LH0oY {\n    padding: 5px;\n    height: 40px;\n    width: 100%;\n    border-radius: 7px;\n    border: 1px solid var(--accent-color);\n    font-size: 14px;\n    background: var(--bg-color);\n    outline: none;\n}\n\n.input__login--jkUQ5:invalid,\n.input__password--LH0oY:invalid {\n    border-color: red;\n}\n\n.input__login--jkUQ5:placeholder-shown,\n.input__password--LH0oY:placeholder-shown {\n    border-color: #3c4856;\n}\n\n.input__submit--SN8Gd {\n    height: 35px;\n    cursor: pointer;\n    border-radius: 7px;\n    border: 1px solid #3c4856;\n    color: var(--text-color);\n    background: var(--bg-color);\n}\n\n.login-error--sIBo7 {\n    visibility: hidden;\n    color: #786347;\n}\n\n.show--Tb6v6 {\n    visibility: visible;\n}\n\n.sign-up--FG8zO {\n    margin-top: 10px;\n    display: flex;\n    flex-direction: row;\n    aling-items: center;\n    justify-content: flex-start;\n    gap: 10px;\n    font-size: 12px;\n}",""]),s.locals={login__form:"login__form--izXR4",input__wrapper:"input__wrapper--XOafN",input__login:"input__login--jkUQ5",input__password:"input__password--LH0oY",input__submit:"input__submit--SN8Gd","login-error":"login-error--sIBo7",show:"show--Tb6v6","sign-up":"sign-up--FG8zO"};const i=s},962:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(379),r=n.n(a),o=n(364),s=n.n(o)()(r());s.push([e.id,".login-page--EqNjZ {\n    margin: 20px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-self: center;\n}\n\n.login-page__title--ut9bt {\n    padding-bottom: 20px;\n    font-size: 25px;\n}",""]),s.locals={"login-page":"login-page--EqNjZ","login-page__title":"login-page__title--ut9bt"};const i=s},500:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(379),r=n.n(a),o=n(364),s=n.n(o)()(r());s.push([e.id,".main__styles--GbzwH {}",""]),s.locals={main__styles:"main__styles--GbzwH"};const i=s},81:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(379),r=n.n(a),o=n(364),s=n.n(o)()(r());s.push([e.id,".register__form--U4kpo {\n    width: 300px;\n    height: 720px;\n    padding: 30px;\n    display: flex;\n    flex-direction: column;\n    gap: 3px;\n    border-radius: 15px;\n    background: var(--bg-modal);\n    overflow: auto;\n}\n\n.input__wrapper--zRrQZ {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n}\n\n.input__login--ohPnh,\n.input__password--NNOC2,\n.input__fname--F6E6m,\n.input__lname--yKFlq,\n.input__address--TVJ5S,\n.input__country--uhI3T {\n    padding: 5px;\n    height: 30px;\n    width: 100%;\n    border-radius: 7px;\n    border: 1px solid var(--accent-color);\n    font-size: 14px;\n    background: var(--bg-color);\n    outline: none;\n}\n.input__country--uhI3T {\n    margin-bottom: 10px;\n}\n.input__login--ohPnh:invalid,\n.input__password--NNOC2:invalid {\n    border-color: red;\n}\n\n.input__login--ohPnh:placeholder-shown,\n.input__password--NNOC2:placeholder-shown {\n    border-color: #3c4856;\n}\n\n.input__submit--sgFyw {\n    height: 35px;\n    cursor: pointer;\n    border-radius: 7px;\n    border: 1px solid #3c4856;\n    color: var(--text-color);\n    background: var(--bg-color);\n    flex-shrink: 0;\n}\n\n.login-error--zsfjF {\n    visibility: hidden;\n    color: #786347;\n}\n\n.show--xLKjh {\n    visibility: visible;\n}\n\n.login-link--pXbJT {\n    margin-top: 10px;\n    display: flex;\n    flex-direction: row;\n    aling-items: center;\n    justify-content: flex-start;\n    gap: 10px;\n    font-size: 12px;\n}\n\n.label--NH7go {\n    font-size: 14px;\n    margin-bottom: 5px;\n}\n\n.input__option--zvCUJ {}\n\n.check__address--ykUBQ {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 5px;\n    font-size: 14px;\n}\n\n.check__box--fUAme {\n    display: flex;\n    align-items: center;\n    gap: 5px;\n    font-size: 12px;\n}\n\n.check__label--eFSSi {\n    margin: 0;\n    padding: 0;\n}\n\n.form__bill-address--zkrIx {\n    display: none;\n    border: 0;\n}",""]),s.locals={register__form:"register__form--U4kpo",input__wrapper:"input__wrapper--zRrQZ",input__login:"input__login--ohPnh",input__password:"input__password--NNOC2",input__fname:"input__fname--F6E6m",input__lname:"input__lname--yKFlq",input__address:"input__address--TVJ5S",input__country:"input__country--uhI3T",input__submit:"input__submit--sgFyw","login-error":"login-error--zsfjF",show:"show--xLKjh","login-link":"login-link--pXbJT",label:"label--NH7go",input__option:"input__option--zvCUJ",check__address:"check__address--ykUBQ",check__box:"check__box--fUAme",check__label:"check__label--eFSSi","form__bill-address":"form__bill-address--zkrIx"};const i=s},144:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(379),r=n.n(a),o=n(364),s=n.n(o)()(r());s.push([e.id,".register-page--E62ek {\n    margin: 20px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-self: center;\n}\n\n.register-page__title--ZA7IV {\n    padding-bottom: 20px;\n    font-size: 25px;\n}",""]),s.locals={"register-page":"register-page--E62ek","register-page__title":"register-page__title--ZA7IV"};const i=s},438:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(379),r=n.n(a),o=n(364),s=n.n(o)()(r());s.push([e.id,':root {\n    --accent-color: #829cbc;\n    --bg-modal: #829cbc;\n    --bg-color: #eefaff;\n    --bg-color-opaque: rgba(177, 182, 149, 0.5);\n    --btn-text: #3c4856;\n    --btn-bg: #acc0cb;\n    --text-color: #3c4856;\n    --svg-bg: var(--bg-color);\n}\n\nbody {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;\n    margin: 0;\n    background-color: var(--bg-color);\n}\n\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: Inter, sans-serif;\n    font-style: normal;\n    font-weight: 600;\n    font-feature-settings:\n        "clig" off,\n        "liga" off;\n}\n\nform {\n    width: 250px;\n}\n',""]),s.locals={};const i=s},333:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var a=n(687),r=n.n(a),o=new URL(n(235),n.b);const s='<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <link rel="icon" type="image/x-icon" href="'+r()(o)+'"/> <title>uShop</title> </head> <body> </body> </html>'},364:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",a=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),a&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),a&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,a,r,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(a)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(s[l]=!0)}for(var d=0;d<e.length;d++){var u=[].concat(e[d]);a&&s[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),t.push(u))}},t}},379:e=>{e.exports=function(e){return e[1]}},687:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},567:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var a=n(72),r=n.n(a),o=n(206),s=n.n(o),i=n(659),l=n.n(i),d=n(56),u=n.n(d),p=n(540),c=n.n(p),f=n(113),g=n.n(f),h=n(40),_={};_.styleTagTransform=g(),_.setAttributes=u(),_.insert=l().bind(null,"head"),_.domAPI=s(),_.insertStyleElement=c(),r()(h.A,_);const m=h.A&&h.A.locals?h.A.locals:void 0},843:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var a=n(72),r=n.n(a),o=n(206),s=n.n(o),i=n(659),l=n.n(i),d=n(56),u=n.n(d),p=n(540),c=n.n(p),f=n(113),g=n.n(f),h=n(244),_={};_.styleTagTransform=g(),_.setAttributes=u(),_.insert=l().bind(null,"head"),_.domAPI=s(),_.insertStyleElement=c(),r()(h.A,_);const m=h.A&&h.A.locals?h.A.locals:void 0},181:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var a=n(72),r=n.n(a),o=n(206),s=n.n(o),i=n(659),l=n.n(i),d=n(56),u=n.n(d),p=n(540),c=n.n(p),f=n(113),g=n.n(f),h=n(638),_={};_.styleTagTransform=g(),_.setAttributes=u(),_.insert=l().bind(null,"head"),_.domAPI=s(),_.insertStyleElement=c(),r()(h.A,_);const m=h.A&&h.A.locals?h.A.locals:void 0},57:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var a=n(72),r=n.n(a),o=n(206),s=n.n(o),i=n(659),l=n.n(i),d=n(56),u=n.n(d),p=n(540),c=n.n(p),f=n(113),g=n.n(f),h=n(962),_={};_.styleTagTransform=g(),_.setAttributes=u(),_.insert=l().bind(null,"head"),_.domAPI=s(),_.insertStyleElement=c(),r()(h.A,_);const m=h.A&&h.A.locals?h.A.locals:void 0},195:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var a=n(72),r=n.n(a),o=n(206),s=n.n(o),i=n(659),l=n.n(i),d=n(56),u=n.n(d),p=n(540),c=n.n(p),f=n(113),g=n.n(f),h=n(500),_={};_.styleTagTransform=g(),_.setAttributes=u(),_.insert=l().bind(null,"head"),_.domAPI=s(),_.insertStyleElement=c(),r()(h.A,_);const m=h.A&&h.A.locals?h.A.locals:void 0},920:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var a=n(72),r=n.n(a),o=n(206),s=n.n(o),i=n(659),l=n.n(i),d=n(56),u=n.n(d),p=n(540),c=n.n(p),f=n(113),g=n.n(f),h=n(81),_={};_.styleTagTransform=g(),_.setAttributes=u(),_.insert=l().bind(null,"head"),_.domAPI=s(),_.insertStyleElement=c(),r()(h.A,_);const m=h.A&&h.A.locals?h.A.locals:void 0},443:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var a=n(72),r=n.n(a),o=n(206),s=n.n(o),i=n(659),l=n.n(i),d=n(56),u=n.n(d),p=n(540),c=n.n(p),f=n(113),g=n.n(f),h=n(144),_={};_.styleTagTransform=g(),_.setAttributes=u(),_.insert=l().bind(null,"head"),_.domAPI=s(),_.insertStyleElement=c(),r()(h.A,_);const m=h.A&&h.A.locals?h.A.locals:void 0},922:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var a=n(72),r=n.n(a),o=n(206),s=n.n(o),i=n(659),l=n.n(i),d=n(56),u=n.n(d),p=n(540),c=n.n(p),f=n(113),g=n.n(f),h=n(438),_={};_.styleTagTransform=g(),_.setAttributes=u(),_.insert=l().bind(null,"head"),_.domAPI=s(),_.insertStyleElement=c(),r()(h.A,_);const m=h.A&&h.A.locals?h.A.locals:void 0},72:e=>{var t=[];function n(e){for(var n=-1,a=0;a<t.length;a++)if(t[a].identifier===e){n=a;break}return n}function a(e,a){for(var o={},s=[],i=0;i<e.length;i++){var l=e[i],d=a.base?l[0]+a.base:l[0],u=o[d]||0,p="".concat(d," ").concat(u);o[d]=u+1;var c=n(p),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==c)t[c].references++,t[c].updater(f);else{var g=r(f,a);a.byIndex=i,t.splice(i,0,{identifier:p,updater:g,references:1})}s.push(p)}return s}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var o=a(e=e||[],r=r||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var i=n(o[s]);t[i].references--}for(var l=a(e,r),d=0;d<o.length;d++){var u=n(o[d]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=l}}},659:e=>{var t={};e.exports=function(e,n){var a=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},206:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,r&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(a,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},675:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(378)),o=a(n(825)),s=a(n(460)),i=a(n(880)),l=a(n(722)),d=a(n(779));class u{constructor(){const e=this.createView();this.routing=new i.default(e)}loadEntryPage(){new l.default(r.default.CTP_CLIENT_ID).isLogged()?(console.log("is logged"),this.routing.navigate("main-page")):(console.log("not logged"),this.routing.navigate("login-page"))}createView(){return[{path:"login-page",callback:()=>{u.addContent(new o.default(this.routing))}},{path:"main-page",callback:()=>{u.addContent(new d.default(this.routing))}},{path:"register-page",callback:()=>{u.addContent(new s.default(this.routing))}}]}static addContent(e){document.body.innerHTML="",document.body.append(e.getElement())}}t.default=u},990:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(567));t.default=class{constructor(){const e=document.createElement("dialog");e.classList.add(r.default.modal);const t=document.createElement("div");t.classList.add(r.default.modal__container),e.onclick=this.closeModal.bind(this),e.appendChild(t),this.container=t,this.node=e}appendModal(e){this.node.innerHTML="",this.container.appendChild(e)}closeModal(){this.node.close()}getNode(){return this.node}updateModal(e){this.container.innerHTML=e}}},433:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(653));t.default=({txt:e,onClick:t,className:n})=>new r.default({tag:"button",className:`${n||""}`,onclick:()=>{t?.()},textContent:e})},439:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(292);t.default=class{constructor(e){const t=document.createElement("div");t.classList.add(e.inputWrapperSelector);const n=(0,a.input)(e.name,e.pattern,e.minLength?.toString(),e.placeHolder,e.type,e.title,e.inputSelector);n.getElement().required=!0;const r=document.createElement("small");if(r.classList.add(e.errSelector),r.innerText=e.errMessage,e.label){const n=(0,a.label)({className:e.labelSelector,textContent:e.label});t.appendChild(n.getElement())}t.appendChild(n.getElement()),t.appendChild(r),this.errorElement=r,this.inputField=n.getElement(),this.node=t,this.props=e}getNode(){return this.node}}},274:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(843));t.default=class{constructor(){const e=document.createElement("div");e.classList.add(r.default.spinner),e.style.display="none",this.node=e}show(){this.node.style.display="block"}hide(){this.node.style.display="none"}getNode(){return this.node}}},292:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.legend=t.fieldset=t.option=t.select=t.input=t.label=t.ul=t.div=void 0;const r=a(n(653));t.div=(e,...t)=>new r.default({tag:"div",...e},...t),t.ul=(e,...t)=>new r.default({tag:"ul",...e},...t),t.label=(e,...t)=>new r.default({tag:"label",...e},...t),t.input=(e,t,n,a,o,s,i)=>{const l=new r.default({tag:"input"});return l.setAttribute("type",o),e&&l.setAttribute("name",e),t&&l.setAttribute("pattern",t),a&&l.setAttribute("placeholder",a),n&&l.setAttribute("minlength",n),s&&l.setAttribute("title",s),i&&l.addClass(i),l},t.select=(e,...t)=>new r.default({tag:"select",className:e.className},...t),t.option=(e,...t)=>new r.default({tag:"option",...e},...t),t.fieldset=(e,...t)=>new r.default({tag:"fieldset",...e},...t),t.legend=(e,...t)=>new r.default({tag:"legend",...e},...t)},378:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={CTP_PROJECT_KEY:"essential-items",CTP_CLIENT_SECRET:"P3MD7_zFNZaMhgdIwSG9g9Wa0C4bdTBm",CTP_CLIENT_ID:"zvwPVImt5j1wA1QFjli3IEr3",CTP_AUTH_URL:"https://auth.europe-west1.gcp.commercetools.com",CTP_API_URL:"https://api.europe-west1.gcp.commercetools.com",CTP_SCOPES:"manage_project:essential-items"}},261:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.updateCustomer=t.createCustomer=t.getTokensByPass=t.getTokensByCredentials=void 0;const r=a(n(378));t.getTokensByCredentials=async()=>await fetch(`${r.default.CTP_AUTH_URL}/oauth/token?grant_type=client_credentials`,{method:"POST",headers:{Authorization:`Basic ${btoa(`${r.default.CTP_CLIENT_ID}:${r.default.CTP_CLIENT_SECRET}`)}`}}),t.getTokensByPass=async e=>await fetch(`${r.default.CTP_AUTH_URL}/oauth/${r.default.CTP_PROJECT_KEY}/customers/token?grant_type=password&username=${e.login}&password=${e.password}`,{method:"POST",headers:{Authorization:`Basic ${btoa(`${r.default.CTP_CLIENT_ID}:${r.default.CTP_CLIENT_SECRET}`)}`,"Content-Type":"application/x-www-form-urlencoded"}}),t.createCustomer=async e=>(console.log(e),await fetch(`${r.default.CTP_API_URL}/${r.default.CTP_PROJECT_KEY}/customers`,{method:"POST",headers:{Authorization:`Bearer ${e.token}`,"Content-Type":"application/json"},body:JSON.stringify({email:e.login,firstName:e.firstName,lastName:e.lastName,password:e.password})})),t.updateCustomer=async e=>await fetch(`${r.default.CTP_API_URL}/oauth/${r.default.CTP_PROJECT_KEY}/customers`,{method:"POST",headers:{Authorization:`Bearer ${e.token}}`,"Content-Type":"application/json"},body:JSON.stringify({version:e.version,actions:[{action:"addAddress",address:{streetName:e.streetName,streetNumber:e.streetNumber,postalCode:e.postalCode,city:e.city,country:e.country}}]})})},722:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.storageKey=e}getUser(){const e=this.getData()||"";return`${e.login||null} ${e.password||null} ${e.isLogged||null}`}getLogin(){return JSON.parse(localStorage.getItem(this.storageKey)).login}isLogged(){const e=this.getData();return e?e.isLogged:null}setTokens(e){const t=this.getData();t?(t.access_token=e.access_token,t.token_expires_in=e.token_expires_in,t.refresh_token=e.refresh_token,t.token_start=Date.now(),localStorage.setItem(this.storageKey,JSON.stringify(t))):localStorage.setItem(this.storageKey,JSON.stringify(e))}saveData(e){localStorage.setItem(this.storageKey,JSON.stringify(e))}setNull(){const e=JSON.parse(localStorage.getItem(this.storageKey));e.login=null,e.password=null,e.isLogged=!1,localStorage.setItem(this.storageKey,JSON.stringify(e))}getData(e=this.storageKey){const t=localStorage.getItem(e);return t?JSON.parse(t):null}}},5:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={us:["United States","^\\d{5}(?:[-\\s]\\d{4})?$","NNNNN (optionally NNNNN-NNNN)"],uk:["United Kingdom","[A-Z]{1,2}[0-9][0-9A-Z]?\\s?[0-9][A-Z]{2}","A(A)N(A/N)NAA (A[A]N[A/N] NAA)"],ca:["Canada","^[ABCEGHJKLMNPRSTVXY]\\d[ABCEGHJKLMNPRSTVXY][ -]?\\d[ABCEGHJKLMNPRSTVXY]\\d$","ANA NAN"],de:["Germany","^(?!01000|99999)(0[1-9]\\d{3}|[1-9]\\d{4})$","NNNNN"],fr:["France","^((0[1-9])|([1-8][0-9])|(9[0-8])|(2A)|(2B)) *([0-9]{3})?$","NN NNN"],nl:["Netherlands","\\d{4}[A-Z]{2}","NNNN AA"]}},653:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(264);class r{constructor(e,...t){const n=document.createElement(e.tag);e.className&&n.classList.add(e.className),e.textContent&&(n.textContent=e.textContent),Object.assign(n,e),this.element=n,t&&t.forEach((e=>{(0,a.notNullable)(e)&&this.append(e)}))}setContent(e){this.element.textContent=e}setInnerHtml(e){this.element.innerHTML=e}addClass(e){this.element.classList.add(e)}removeClass(e){this.element.classList.remove(e)}getElement(){return this.element}append(e){if(e instanceof r){const t=e.getElement();this.element.append(t)}else this.element.append(e)}remove(){this.element.remove()}appendChildren(...e){e.filter(a.notNullable).forEach((e=>{this.append(e)}))}addListener(e,t){this.element.addEventListener(e,t)}setAttribute(e,t){this.element.setAttribute(e,t)}}t.default=r},916:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(5));t.default=()=>Object.keys(r.default).reduce(((e,t)=>(e.push([t,r.default[t][0]]),e)),[])},264:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.notNullable=void 0,t.default=function(e){return null==e},t.notNullable=function(e){return null!=e}},880:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.routes=e;const t=this.navigate.bind(this);window.addEventListener("hashchange",t)}navigate(e){"string"==typeof e&&(window.location.href=`${window.location.href.replace(/#(.*)$/,"")}#${e}`);const t=window.location.hash.slice(1),n=this.routes.find((e=>e.path===t));if(!n)throw new Error("page not found!");n.callback()}}},0:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(181)),o=n(292),s=a(n(653)),i=a(n(439)),l=n(261),d=a(n(990)),u=a(n(274)),p=a(n(722)),c=a(n(378));class f extends s.default{constructor(e){const t=new d.default,n=new u.default,a=new i.default({inputWrapperSelector:r.default.input__wrapper,inputSelector:r.default.input__login,name:"userEmail",pattern:"",minLength:6,placeHolder:"Email...",type:"email",title:"",errSelector:r.default["login-error"],errMessage:"Enter valid email..."}),s=new i.default({inputWrapperSelector:r.default.input__wrapper,inputSelector:r.default.input__password,name:"userPassword",pattern:"",minLength:8,placeHolder:"",type:"password",title:"",errSelector:r.default["login-error"],errMessage:"Must contain at least one number, one uppercase and lowercase letter, and at least 8 characters"}),l=(0,o.input)("","","","","submit","",r.default.input__submit),p=document.createElement("a");p.textContent="Register",p.href="#register-page",p.onclick=e=>{e.preventDefault(),this.routing.navigate("register-page")};const c=(0,o.div)({className:r.default["sign-up"],textContent:"Don't have an account?"},p);super({tag:"form",className:r.default.login__form},a.getNode(),s.getNode(),l,c,t.getNode(),n.getNode()),this.inputData={email:"",password:""},this.alertModal=t,this.loginInput=a,this.passwordInput=s,this.routing=e,this.spinner=n;const f=this.submitHandler.bind(this);this.element.addEventListener("submit",f)}async submitHandler(e){if(e.preventDefault(),this.spinner.show(),this.setData(),this.saveData(),this.validateFillForm()){const e=await(0,l.getTokensByPass)({login:this.loginInput.inputField.value,password:this.passwordInput.inputField.value});if(this.spinner.hide(),200===e.status){const t=await e.json(),n={login:this.loginInput.inputField.value,password:this.passwordInput.inputField.value,isLogged:!0},a={access_token:t.access_token,token_expires_in:t.expires_in,refresh_token:t.refresh_token},r=new p.default(c.default.CTP_CLIENT_ID);r.saveData(n),r.setTokens(a),this.routing.navigate("main-page")}else{const t=await e.json();this.alertModal.getNode().showModal(),this.alertModal.updateModal(`Error: ${t.error}, ${t.message}`)}}}setData(){const e=new FormData(this.getElement());this.inputData.email=e.get("userEmail"),this.inputData.password=e.get("userPassword")}validateFillForm(){function e(e){e.errorElement.classList.add(r.default.show)}let t=!0;return/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/.test(this.loginInput.inputField.value)?this.loginInput.errorElement.classList.remove(r.default.show):(e(this.loginInput),t=!1),/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[A-Za-z\d]{8,}$/.test(this.passwordInput.inputField.value)?this.passwordInput.errorElement.classList.remove(r.default.show):(e(this.passwordInput),t=!1),t}saveData(){window.localStorage.setItem("logData",JSON.stringify(this.inputData))}}t.default=f},825:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(57)),o=n(292),s=a(n(653)),i=a(n(0));class l extends s.default{constructor(e){super({tag:"div",className:r.default["login-page"]},(0,o.div)({className:r.default["login-page__title"],textContent:"Login"}),new i.default(e))}}t.default=l},779:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(195)),o=a(n(433)),s=n(292),i=a(n(653)),l=a(n(722)),d=a(n(378));class u extends i.default{constructor(e){super({tag:"div",className:"startPage"},(0,s.div)({className:r.default.main__title,textContent:"E-COMM MAIN PAGE"}),(0,o.default)({txt:"Log Out",onClick:()=>{new l.default(d.default.CTP_CLIENT_ID).setNull(),window.localStorage.clear(),this.routing.navigate("login-page")},className:"btn__start-page"})),this.routing=e}}t.default=u},923:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(920)),o=a(n(990)),s=a(n(378)),i=n(292),l=a(n(653)),d=n(261),u=a(n(439)),p=a(n(722)),c=a(n(274)),f=a(n(916)),g=a(n(5));class h extends l.default{constructor(e){const t=new o.default,n=new c.default,a=new u.default({inputWrapperSelector:r.default.input__wrapper,inputSelector:r.default.input__login,labelSelector:r.default.label,label:"Email",name:"userEmail",minLength:6,placeHolder:"Email...",type:"email",errSelector:r.default["login-error"],errMessage:"Enter correct email..."}),s=new u.default({inputWrapperSelector:r.default.input__wrapper,inputSelector:r.default.input__password,labelSelector:r.default.label,label:"Password",name:"userPassword",minLength:8,placeHolder:"Password...",type:"password",errSelector:r.default["login-error"],errMessage:"Min 8 characters, at least 1 uppercase, 1 lowercase letter and 1 number"}),l=new u.default({inputWrapperSelector:r.default.input__wrapper,inputSelector:r.default.input__fname,labelSelector:r.default.label,label:"First name",name:"fName",pattern:"[a-zA-Z]+",minLength:1,placeHolder:"First Name...",type:"text",errSelector:r.default["login-error"],errMessage:"Only charachters allowed"}),d=new u.default({inputWrapperSelector:r.default.input__wrapper,inputSelector:r.default.input__lname,labelSelector:r.default.label,label:"Last name",name:"userFirstName",pattern:"[a-zA-Z]+",minLength:1,placeHolder:"Last Name...",type:"text",errSelector:r.default["login-error"],errMessage:"Only charachters allowed"}),p=new u.default({inputWrapperSelector:r.default.input__wrapper,inputSelector:r.default.input__address,labelSelector:r.default.label,name:"birthDate",label:"Date of birth",placeHolder:"",type:"date",errSelector:r.default["login-error"],errMessage:"User must be 13 years old or older..."}),g=new u.default({inputWrapperSelector:r.default.input__wrapper,inputSelector:r.default.input__address,labelSelector:r.default.label,name:"userAddress",label:"Shipping Address",minLength:1,placeHolder:"Street...",type:"text",errSelector:r.default["login-error"],errMessage:"Enter valid email..."}),h=new u.default({inputWrapperSelector:r.default.input__wrapper,inputSelector:r.default.input__address,name:"userCity",pattern:"[a-zA-Z]+",minLength:1,placeHolder:"City...",type:"text",errSelector:r.default["login-error"],errMessage:"Enter valid email..."}),_=new u.default({inputWrapperSelector:r.default.input__wrapper,inputSelector:r.default.input__address,name:"userPostal",pattern:"",minLength:1,placeHolder:"Postal...",type:"text",errSelector:r.default["login-error"],errMessage:"Enter valid postal code..."}),m=(0,i.option)({className:r.default.input__option,textContent:"Country"});m.setAttribute("value","");const b=(0,i.select)({className:r.default.input__country},m),v=(0,f.default)().map((e=>{const t=(0,i.option)({className:r.default.input__option,textContent:e[1]});return t.setAttribute("value",e[0]),t.getElement()}));b.getElement().required=!0,b.appendChildren(...v);const w=(0,i.label)({className:r.default.label,textContent:"same as shipping address"}),y=(0,i.input)("checkAddress","","","","checkbox","",r.default.input__check);y.getElement().checked=!0,y.getElement().addEventListener("change",(e=>{e.target.checked?this.billAddress.getElement().style.display="none":this.billAddress.getElement().style.display="block"}));const x=(0,i.div)({className:r.default.check__box},y,w),N=(0,i.div)({className:r.default.check__address,textContent:"Billing Address"},x),A=new u.default({inputWrapperSelector:r.default.input__wrapper,inputSelector:r.default.input__address,labelSelector:r.default.label,name:"billStreet",minLength:1,placeHolder:"Street...",type:"text",errSelector:r.default["login-error"],errMessage:"Enter valid email..."}),C=new u.default({inputWrapperSelector:r.default.input__wrapper,inputSelector:r.default.input__address,name:"billCity",pattern:"[a-zA-Z]+",minLength:1,placeHolder:"City...",type:"text",errSelector:r.default["login-error"],errMessage:"Enter valid email..."}),S=new u.default({inputWrapperSelector:r.default.input__wrapper,inputSelector:r.default.input__address,name:"billPostal",pattern:"",minLength:1,placeHolder:"Postal...",type:"text",errSelector:r.default["login-error"],errMessage:"Enter valid postal code..."}),E=(0,i.option)({className:r.default.input__option,textContent:"Country"});E.setAttribute("value","");const k=(0,i.select)({className:r.default.input__country},E),T=(0,f.default)().map((e=>{const t=(0,i.option)({className:r.default.input__option,textContent:e[1]});return t.setAttribute("value",e[0]),t.getElement()}));k.getElement().required=!0,k.appendChildren(...T);const P=(0,i.fieldset)({className:r.default["form__bill-address"]},A.getNode(),C.getNode(),S.getNode(),k),I=(0,i.input)("","","","","submit","",r.default.input__submit),M=document.createElement("a");M.textContent="Log In",M.href="#login-page",M.onclick=e=>{e.preventDefault(),this.routing.navigate("login-page")};const L=(0,i.div)({className:r.default["login-link"],textContent:"Have an account?"},M);super({tag:"form",className:r.default.register__form},a.getNode(),s.getNode(),l.getNode(),d.getNode(),p.getNode(),g.getNode(),h.getNode(),_.getNode(),b,N,P,I,L,t.getNode(),n.getNode()),this.addressInput=g,this.alertModal=t,this.billAddress=P,this.birthDate=p,this.checkInput=y,this.cityInput=h,this.countryInput=b,this.emailInput=a,this.firstNameInpput=l,this.lastNameInput=d,this.passwordInput=s,this.postalInput=_,this.routing=e,this.spinner=n;const j=this.submitHandler.bind(this);this.element.addEventListener("submit",j)}async getAccTokenByCredentials(){const e=await(0,d.getTokensByCredentials)();let t=null;if(200===e.status){const n=await e.json();t={access_token:n.access_token,refresh_token:n.refresh_token||null,token_start:null,token_expires_in:n.expires_in||null}}else{this.spinner.hide();const t=await e.json();this.alertModal.getNode().showModal(),this.alertModal.updateModal(`Error: ${t.error}, ${t.message}`)}return t}async reqCreateCustomer(e){const t=await(0,d.createCustomer)({token:e,login:this.emailInput.inputField.value,firstName:this.firstNameInpput.inputField.value,lastName:this.lastNameInput.inputField.value,password:this.passwordInput.inputField.value});let n=null;if(201===t.status){const e=await t.json();n={login:this.emailInput.inputField.value,password:this.passwordInput.inputField.value,isLogged:!0,customer_id:e.customer.id,customer_name:this.firstNameInpput.inputField.value,version:e.customer.version}}else{this.spinner.hide();const e=await t.json();this.alertModal.getNode().showModal(),this.alertModal.updateModal(`Error: ${e.error||"error message"}, ${e.message}`)}return n}async reqTokensByPass(e){const t=await(0,d.getTokensByPass)({login:e.login,password:e.password});let n=null;if(200===t.status){const e=await t.json();n={access_token:e.access_token,token_expires_in:e.expires_in,refresh_token:e.refresh_token}}else{const e=await t.json();this.alertModal.getNode().showModal(),this.alertModal.updateModal(`Error: ${e.error}, ${e.message}`)}return n}async submitHandler(e){if(e.preventDefault(),this.spinner.show(),this.validateFillForm()){const e=await this.getAccTokenByCredentials();if(!e)return void this.spinner.hide();const t=new p.default(s.default.CTP_CLIENT_ID),n=await this.reqCreateCustomer(e.access_token);if(!n)return void this.spinner.hide();t.saveData(n);const a=await this.reqTokensByPass({login:this.emailInput.inputField.value,password:this.passwordInput.inputField.value});return a?(t.setTokens(a),this.spinner.hide(),void this.routing.navigate("main-page")):void this.spinner.hide()}this.spinner.hide()}validateFillForm(){function e(e){e.errorElement.classList.add(r.default.show)}const t=(new Date).getFullYear()-new Date(this.birthDate.inputField.value).getFullYear(),n=this.countryInput.getElement().value,a=new RegExp(g.default[n][1]);let o=!0;return/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/.test(this.emailInput.inputField.value)?this.emailInput.errorElement.classList.remove(r.default.show):(e(this.emailInput),o=!1),/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[A-Za-z\d]{8,}$/.test(this.passwordInput.inputField.value)?this.passwordInput.errorElement.classList.remove(r.default.show):(e(this.passwordInput),o=!1),t<13?(e(this.birthDate),o=!1):this.birthDate.errorElement.classList.remove(r.default.show),a.test(this.postalInput.inputField.value)?this.postalInput.errorElement.classList.remove(r.default.show):(this.postalInput.errorElement.innerText=`Valid format - ${g.default[n][2]}`,e(this.postalInput),o=!1),o}}t.default=h},460:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(292),o=a(n(653)),s=a(n(923)),i=a(n(443));class l extends o.default{constructor(e){super({tag:"div",className:i.default["register-page"]},(0,r.div)({className:i.default["register-page__title"],textContent:"Register a new User"}),new s.default(e)),this.routing=e}}t.default=l},156:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(675));n(333),n(922),(new r.default).loadEntryPage()},235:(e,t,n)=>{e.exports=n.p+"assets/9b5dd9f17bd54f9ee9d2.ico"}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={id:a,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var r=a.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=a[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0,n(156)})();